# 📖 2024-05-02 DIL

---

## 😀 1장. 분산 컴퓨팅이란 무엇인가?(What is distributed computing?)


### 1️⃣ 두 장군 이야기

- 중세시대에 적의 중대 Z를 아군의 중대 A와 B가 각각 동쪽과 서쪽에서 포위한 상태
- 아군의 중대가 이기기 위해서는 **"아군의 중대 A와 B가 정확히 같은 시간에 적의 중대 Z를 공격해야 한다"** 라는 조건이 있습니다.

![1.png](image%2F1.png)


- 아군의 A중대 사령관이 B중대 보다 상급자이기 때문에, 아군 중대 A의 사령관은 명령을 내릴 수 있습니다.
- 이때, **A중대에서 명령을 전달하는 병사는 적진을 은밀하게 뚫고 지나가야 합니다.**

이때, 적진을 뚫고 지나 명령을 전달하는 병사의 상황은 다음과 같이 2가지로 나누어집니다.
1. 만약 적진에 걸린 경우 - 명령을 전달하지 못하고 적군의 손에 잡혀 죽는 상황입니다.
2. 성공적으로 명령을 전달하고, 돌아오는 경우 - 성공적으로 아군 중대 B에 메시지를 전달합니다.

![2.png](image%2F2.png)

<br/>

#### 게임으로 풀어보는 두 장군 간의 합의 문제

- 위의 상황을 게임이라고 가정하고, 두 중대의 사령관의 입장에서 어떠한 일이 벌어질 수 있는지 확인해봅시다.
- 아군 중대 A의 사령관, B 사령관과 함께, 공격 명령을 전달하는 아군 중대 A의 전령, 적군 중대 Z의 사령관이 있다고 가정하겠습니다.


![3.png](image%2F3.png)

##### 중대 A에서 B로 전령이 갔을 때, 아군 중대 A 사령관의 입장
- 중간에 아군 중대 A의 전령이 적의 중대 Z의 병사를 만나서 전령을 전달하지 못하거나, 전달을 성공하는 경우 2가지로 구분할 수 있습니다.
- 이때, A중대의 사령관의 입장에서는 다음과 같은 경우들이 발생할 수 있습니다.

case1) 아군 중대 A의 전령이 무사히 돌아오는 경우

case2) 중간에 전령이 적에게 걸려, 어떤 연락도 없음

![4.png](image%2F4.png)


##### 아군 중대 B 사령관의 입장
- 그렇다면 반대로 아군 중대 B 사령관의 입장에 대해서 살펴보겠습니다.
- B 사령관은 A 중대의 전령이 잘 받았음을 확인하는 연락을 받아야 합니다.
- 이때, B중대의 사령관의 입장에서는 다음과 같은 경우들이 발생할 수 있습니다.

case1) 돌아가는 중간에 전령이 적에게 걸려, 연락받았음을 확인할 수 없는 경우 

case2) 정상적으로 중대 A에게 돌아가는 갔는 경우


![5.png](image%2F5.png)


-> 이에 A 중대는 B 중대에게 재차, 확인 전령이 정상적으로 도착했음을 알려야 합니다.

![6.png](image%2F6.png)

<br/>

### 2️⃣ 분산 컴퓨팅의 정의


Q. 중세시대의 해당 내용을 왜 분산 컴퓨팅에서 의논할까?

-> 현대의 분산 컴퓨팅에서도 이와 같은 일이 발생하기 때문입니다.

Q. 분산 컴퓨팅이란 무엇인가?

- 컴퓨팅 = **"컴퓨터와 같은 전자,기계 장치를 이용하여 문제 해결을 위한 작업의 수행"** 이라고 할 수 있습니다.
- 분산적으로 컴퓨팅 = **"작업을 수행하는 전자, 기계 장치들의 네트워크에 연결되어 서로 메시지를 주고 받으면서, 협의 과정을 거쳐 어떤 목적 달성을 위해 함께 작업을 수행한다는 것"** 을 의미합니다.

#### 분산 컴퓨팅의 주체
- 중세 시대의 예시에 등장한 인물들을 현대적인 분산 컴퓨팅 주체에 대입하면 다음과 같습니다.

1. 아군 중대 A의 전령 = 네트워크 패킷
2. 아군 중대 A사령관, 아군 중대 B 사령관 = 컴퓨팅 장치
3. 적의 중대 Z 사령관 및 병사 = 네트워크

![7.png](image%2F7.png)


- 네트워크에 참여하는 컴퓨팅 장치들을 **"프로세스, 노드, 서버"** 라고 부릅니다.

<br/>

#### 비동기적인 통신 환경

네트워크를 통해 전달되는 메시지 
1. 메시지는 네트워크를 타고 상대편에 도달할 수도 있고, 도달하지 않을 수도 있습니다.
2. 상대편 컴퓨터에 정확한 시간에 도달할 수 있다는 보장은 할 수 없습니다.

-> 이처럼 **메시지의 전달 여부나 정해진 시각 안에 도달할 수 없는 네트워크 상의 통신**을 **"비동기적인 통신"** 이라고 합니다.

- 이런 비동기적인 통신이 분산 컴퓨팅을 어렵게 하는 근본적인 원인이 됩니다.


네트워크는 다음과 같이 도로망에 비유할 수 있습니다.

![8.png](image%2F8.png)

이때 발생할 수 있는 상황으로써는 다음과 같이 2가지가 있습니다.

case1) 사고가 발생되어 목적지에 도착하지 못하거나, 혼잡 상황이 발생되어 제 시간에 맞춰 목적지에 도달하지 못한 상황

-> **패킷들도 아예 도착하지 못할 수도 있고, 제 시간에 맞춰 목적지에 도달한다는 보장을 할 수 없습니다.** 


case2) 중간에 적군 중대 Z에게 회유 당하여 거짓된 정보를 B중대에 전달하는 경우

-> **패킷이 네트워크를 통해 전달하는 도중에 오염되어 잘못된 정보를 전달할 수 있습니다.**

<br/>

##### ⚠️ 주의사항

- **"잘 전달하는 것"과 "협의를 통해서 의사결정"을 하는 것은 다른 문제입니다.**

case1) 잘 전달하는 것 (네트워크 상 혼잡 상황이나, 네트워크 상 패킷이 도착하지 않는 경우)

- 네트워크 상에서 패킷이 목적지에 도달하지 않는 경우, 패킷을 다시 보낼 수 있습니다.

-> 네트워크 상의 어플리케이션을 원할하기 이용 가능하도록 하기 위한 방법입니다.

case2) 메시지가 전달된 후, 협의를 통해서 의사결정이 이루어졌는가?(메시지 전달 후, 협의 과정)

- 메시지가 전달되었다고 해서, 두 장군간 협의가 잘되었다고 보기에는 어렵습니다.

-> 따라서 분산 컴퓨팅 또한 메시지 전달에만 초점을 두지 않고, 메시지 전달 후 해당 컴퓨터와 작업을 수행하는데 문제가 없는지 서로 확인 및 확인해야 합니다.

-> 아무리 빠르고, 안정적인 네트워크라고 하더라도 순간의 혼잡, 패킷 유실, 오염 등으로 인해 분산 컴퓨팅의 작업을 방해할 수 있습니다.

- **따라서 단순히 메시지가 전달되었다는 것 뿐만 아닌, 협의(서로 다른 컴퓨터에서 작업을 처리하는데 문제가 없는지, 지정된 작업을 수행할 수 있는지 등을 체크)하고 작업을 수행하도록 해야 합니다.**
